import{G as x,g as h}from"./pdf-B47zZseS.js";import{r as p,a as y,o as k,b as e,t as v}from"./index-DqviNUB5.js";const C={style:{"white-space":"pre-wrap","word-break":"break-word"}},D={__name:"index",setup(b){x.workerSrc="/node_modules/pdfjs-dist/build/pdf.worker.mjs";const l=p(null),i=p(""),f=async c=>{const t=c.target.files[0];if(!t)return;const r=new FileReader;r.onload=async function(){const u=new Uint8Array(r.result),s=await(await h({data:u}).promise).getPage(1),o=s.getViewport({scale:1.5}),n=window.devicePixelRatio||1,a=l.value,w=a.getContext("2d");a.width=Math.floor(o.width*n),a.height=Math.floor(o.height*n),a.style.width=Math.floor(o.width)+"px",a.style.height=Math.floor(o.height)+"px";const g={canvasContext:w,transform:n!==1?[n,0,0,n,0,0]:null,viewport:o};await s.render(g).promise;const d=(await s.getTextContent()).items.map(m=>m.str).join(" ");console.log(d),i.value=d},r.readAsArrayBuffer(t)};return(c,t)=>(k(),y("div",null,[t[0]||(t[0]=e("h1",null,"'Hello, world!' example",-1)),e("input",{type:"file",accept:"application/pdf",onChange:f},null,32),e("canvas",{ref_key:"canvasRef",ref:l,style:{border:"1px solid black",direction:"ltr"}},null,512),t[1]||(t[1]=e("hr",null,null,-1)),t[2]||(t[2]=e("h2",null,"擷取文字結果：",-1)),e("pre",C,v(i.value),1)]))}};export{D as default};
